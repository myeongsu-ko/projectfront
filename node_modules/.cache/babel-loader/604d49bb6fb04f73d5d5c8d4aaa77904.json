{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\Users\\\\HSE-KMS\\\\Documents\\\\Temp\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\HSE-KMS\\\\Documents\\\\Temp\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"C:\\\\Users\\\\HSE-KMS\\\\Documents\\\\Temp\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\HSE-KMS\\\\Documents\\\\Temp\\\\frontend\\\\src\\\\pages\\\\user\\\\Login.js\";\n\n/* eslint-disable react-hooks/exhaustive-deps */\nimport React, { useEffect, useState } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport axios from 'axios';\nimport useStores from '@stores/useStores';\nimport { useObserver } from 'mobx-react-lite';\nimport SecStorage from '@lib/secureStorage';\nimport BrowserDetection from 'react-browser-detection';\nimport { useCookies } from 'react-cookie';\nimport { Box, Grow } from '@material-ui/core';\nimport { TiInfoOutline } from 'react-icons/ti';\nimport { FaLock } from 'react-icons/fa';\nimport imgLogo from '@assets/images/img_eng_logo.png';\n\nvar Login = function Login(_ref) {\n  var history = _ref.history;\n\n  var _useStores = useStores(),\n      commonStore = _useStores.commonStore,\n      userStore = _useStores.userStore;\n\n  var _useObserver = useObserver(function () {\n    return {\n      $Dim: commonStore.Dim,\n      $user: userStore.user,\n      $setUser: userStore.fSetUser,\n      $storekey: userStore.storekey\n    };\n  }),\n      $Dim = _useObserver.$Dim,\n      $user = _useObserver.$user,\n      $setUser = _useObserver.$setUser,\n      $storekey = _useObserver.$storekey;\n\n  var Styles = fStyles($Dim);\n\n  var _useCookies = useCookies(['saveid_hansun']),\n      _useCookies2 = _slicedToArray(_useCookies, 3),\n      cookies = _useCookies2[0],\n      setCookie = _useCookies2[1],\n      removeCookie = _useCookies2[2];\n\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      userid = _useState2[0],\n      setUserId = _useState2[1];\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      password = _useState4[0],\n      setPassword = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      saveId = _useState6[0],\n      setSaveId = _useState6[1];\n\n  var _useState7 = useState(null),\n      _useState8 = _slicedToArray(_useState7, 2),\n      error = _useState8[0],\n      setError = _useState8[1];\n\n  var fChangeUserId = function fChangeUserId(e) {\n    setUserId(e.target.value);\n  };\n\n  var fChangePassword = function fChangePassword(e) {\n    setPassword(e.target.value);\n  };\n\n  var fSubmit =\n  /*#__PURE__*/\n  function () {\n    var _ref2 = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee(e) {\n      var encpass, result, rtnpass, result2, data;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              e.preventDefault();\n              setError('');\n\n              if (userid) {\n                _context.next = 7;\n                break;\n              }\n\n              setError('아이디를 입력하세요.');\n              return _context.abrupt(\"return\");\n\n            case 7:\n              if (password) {\n                _context.next = 10;\n                break;\n              }\n\n              setError('비밀번호를 입력하세요.');\n              return _context.abrupt(\"return\");\n\n            case 10:\n              encpass = password;\n              _context.prev = 11;\n              _context.next = 14;\n              return axios.get('/@/auth/encproc', {\n                params: {\n                  userid: userid,\n                  password: encpass\n                }\n              });\n\n            case 14:\n              result = _context.sent;\n              rtnpass = result.data;\n              _context.next = 18;\n              return axios.post('/@/auth/login', {\n                userid: userid,\n                password: rtnpass\n              });\n\n            case 18:\n              result2 = _context.sent;\n              data = result2.data;\n\n              if (data.errmess) {\n                setError(data.errmess);\n              } else {\n                $setUser(data);\n              }\n\n              _context.next = 26;\n              break;\n\n            case 23:\n              _context.prev = 23;\n              _context.t0 = _context[\"catch\"](11);\n              setError('로그인 요청중 오류가 발생하였습니다.');\n\n            case 26:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[11, 23]]);\n    }));\n\n    return function fSubmit(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var fSaveIdClick = function fSaveIdClick(e) {\n    setSaveId(e.target.checked);\n  };\n\n  useEffect(function () {\n    if (cookies.saveid_hansun) {\n      setSaveId(true);\n      var id = cookies.saveid_hansun;\n      setUserId(id);\n      setPassword('');\n    }\n  }, [cookies]);\n  useEffect(function () {\n    if ($user && $user.userid) {\n      if (saveId) {\n        setCookie('saveid_hansun', $user.userid, {\n          path: '/'\n        });\n      } else {\n        removeCookie('saveid_hansun');\n      }\n\n      try {\n        var secureStorage = SecStorage($storekey);\n        secureStorage.setItem('user_hansun', JSON.stringify($user));\n      } catch (e) {\n        history.push('/error_500');\n      }\n\n      history.push('/');\n    }\n  }, [$user]);\n  return React.createElement(React.Fragment, null, React.createElement(BrowserDetection, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104\n    },\n    __self: this\n  }, browserHandler), React.createElement(Box, {\n    style: Styles.s1,\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105\n    },\n    __self: this\n  }, React.createElement(Box, {\n    style: {\n      height: $Dim * 120\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106\n    },\n    __self: this\n  }), React.createElement(Box, {\n    display: \"flex\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107\n    },\n    __self: this\n  }, React.createElement(Box, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    src: imgLogo,\n    alt: \"logo\",\n    style: {\n      width: $Dim * 150,\n      height: $Dim * 20\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109\n    },\n    __self: this\n  })), React.createElement(Box, {\n    style: {\n      marginLeft: $Dim * 15\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111\n    },\n    __self: this\n  }, React.createElement(FaLock, {\n    style: {\n      width: $Dim * 20,\n      height: $Dim * 20,\n      color: '#c2c2c2'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112\n    },\n    __self: this\n  }))), React.createElement(Box, {\n    style: {\n      width: $Dim * 1000,\n      height: $Dim * 190,\n      background: '#2d353c',\n      marginTop: $Dim * 10\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115\n    },\n    __self: this\n  }, React.createElement(\"form\", {\n    onSubmit: fSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116\n    },\n    __self: this\n  }, React.createElement(Box, {\n    style: {\n      marginTop: $Dim * 15\n    },\n    display: \"flex\",\n    justifyContent: \"center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    type: \"text\",\n    id: \"userid\",\n    name: \"userid\",\n    placeholder: \"\\uC544\\uC774\\uB514\",\n    value: userid,\n    onChange: fChangeUserId,\n    style: Styles.s2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118\n    },\n    __self: this\n  })), React.createElement(Box, {\n    style: {\n      marginTop: $Dim * 10\n    },\n    display: \"flex\",\n    justifyContent: \"center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    type: \"password\",\n    id: \"password\",\n    name: \"password\",\n    placeholder: \"\\uBE44\\uBC00\\uBC88\\uD638\",\n    value: password,\n    onChange: fChangePassword,\n    style: Styles.s2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121\n    },\n    __self: this\n  })), React.createElement(Box, {\n    style: {\n      marginTop: $Dim * 10\n    },\n    display: \"flex\",\n    justifyContent: \"center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123\n    },\n    __self: this\n  }, React.createElement(Box, {\n    style: {\n      width: $Dim * 170\n    },\n    display: \"flex\",\n    justifyContent: \"flex-start\",\n    alignItems: \"center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    type: \"checkbox\",\n    id: \"saveId\",\n    checked: saveId,\n    onChange: fSaveIdClick,\n    style: {\n      width: $Dim * 15,\n      height: $Dim * 15\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125\n    },\n    __self: this\n  }), React.createElement(\"label\", {\n    htmlFor: \"saveId\",\n    style: {\n      marginLeft: $Dim * 5,\n      fontSize: $Dim * 12,\n      color: '#c6ced5'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126\n    },\n    __self: this\n  }, \"\\uC544\\uC774\\uB514 \\uC800\\uC7A5\"))), React.createElement(Box, {\n    style: {\n      marginTop: $Dim * 10\n    },\n    display: \"flex\",\n    justifyContent: \"center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    type: \"submit\",\n    style: {\n      width: $Dim * 180,\n      height: $Dim * 25,\n      background: '#00acac',\n      borderRadius: '6px',\n      borderWidth: '0px',\n      fontSize: $Dim * 12,\n      fontWeight: 'bold',\n      color: '#fff'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132\n    },\n    __self: this\n  }, \"\\uB85C\\uADF8\\uC778\")), React.createElement(Box, {\n    style: {\n      marginTop: $Dim * 15,\n      fontSize: $Dim * 12,\n      color: '#ff2222'\n    },\n    display: \"flex\",\n    justifyContent: \"center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139\n    },\n    __self: this\n  }, \"\\xA0\", error, \"\\xA0\")))));\n};\n\nvar fStyles = function fStyles($Dim) {\n  return {\n    s1: {\n      width: $Dim * 1000,\n      height: $Dim * 560,\n      background: '#d9e0e7'\n    },\n    s2: {\n      width: $Dim * 170,\n      height: $Dim * 25,\n      backgroundColor: '#4C5359',\n      borderRadius: '6px',\n      borderWidth: '0px',\n      fontSize: $Dim * 13,\n      fontWeight: 'bold',\n      color: '#fff',\n      paddingLeft: $Dim * 10\n    }\n  };\n};\n\nvar browserHandler = {\n  default: function _default(browser) {\n    return React.createElement(React.Fragment, null, browser === 'ie' && React.createElement(Grow, Object.assign({\n      in: browser === 'ie',\n      style: {\n        transformOrigin: '0 0 0'\n      }\n    }, {\n      timeout: 1000\n    }, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172\n      },\n      __self: this\n    }), React.createElement(Box, {\n      border: 1,\n      borderRadius: 5,\n      p: 1,\n      borderColor: \"#ddd\",\n      bgcolor: \"#FFF1C0\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173\n      },\n      __self: this\n    }, React.createElement(Box, {\n      display: \"flex\",\n      flexDirection: \"row\",\n      justifyContent: \"center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174\n      },\n      __self: this\n    }, React.createElement(Box, {\n      width: 50,\n      height: \"100\",\n      display: \"flex\",\n      justifyContent: \"center\",\n      alignItems: \"center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175\n      },\n      __self: this\n    }, React.createElement(TiInfoOutline, {\n      size: \"35\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176\n      },\n      __self: this\n    })), React.createElement(Box, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178\n      },\n      __self: this\n    }, React.createElement(Box, {\n      style: {\n        fontSize: '14px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179\n      },\n      __self: this\n    }, \"\\uD604\\uC7AC \\uC0AC\\uC6A9 \\uC911\\uC778 \\uBE0C\\uB77C\\uC6B0\\uC800\\uB294 \\uC9C0\\uC6D0\\uC774 \\uC911\\uB2E8 \\uB41C \\uBE0C\\uB77C\\uC6B0\\uC800 \\uC785\\uB2C8\\uB2E4.\"), React.createElement(Box, {\n      style: {\n        fontSize: '14px',\n        fontWeight: 'bold'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180\n      },\n      __self: this\n    }, \"\\uBCF4\\uC548\\uC5D0 \\uC704\\uD5D8\\uC774 \\uC5C6\\uB294\", React.createElement(\"a\", {\n      rel: \"noopener noreferrer\",\n      href: \"https://www.google.com/chrome/index.html?brand=CHNY&utm_campaign=en&utm_source=en-et-youtube&utm_medium=et\",\n      target: \"_blank\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182\n      },\n      __self: this\n    }, ' ', \"Chrome\"), React.createElement(\"a\", {\n      rel: \"noopener noreferrer\",\n      href: \"https://www.microsoft.com/ko-kr/edge/\",\n      target: \"_blank\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186\n      },\n      __self: this\n    }, ' ', \"Edge\"), \"\\uB97C \\uC0AC\\uC6A9\\uD558\\uC5EC \\uC8FC\\uC138\\uC694\"))))));\n  }\n};\nexport default withRouter(Login);","map":{"version":3,"sources":["C:\\Users\\HSE-KMS\\Documents\\Temp\\frontend\\src\\pages\\user\\Login.js"],"names":["React","useEffect","useState","withRouter","axios","useStores","useObserver","SecStorage","BrowserDetection","useCookies","Box","Grow","TiInfoOutline","FaLock","imgLogo","Login","history","commonStore","userStore","$Dim","Dim","$user","user","$setUser","fSetUser","$storekey","storekey","Styles","fStyles","cookies","setCookie","removeCookie","userid","setUserId","password","setPassword","saveId","setSaveId","error","setError","fChangeUserId","e","target","value","fChangePassword","fSubmit","preventDefault","encpass","get","params","result","rtnpass","data","post","result2","errmess","fSaveIdClick","checked","saveid_hansun","id","path","secureStorage","setItem","JSON","stringify","push","browserHandler","s1","height","width","marginLeft","color","background","marginTop","s2","fontSize","borderRadius","borderWidth","fontWeight","backgroundColor","paddingLeft","default","browser","transformOrigin","timeout"],"mappings":"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","sourcesContent":["/* eslint-disable react-hooks/exhaustive-deps */\nimport React, { useEffect, useState } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport axios from 'axios';\nimport useStores from '@stores/useStores';\nimport { useObserver } from 'mobx-react-lite';\nimport SecStorage from '@lib/secureStorage';\nimport BrowserDetection from 'react-browser-detection';\nimport { useCookies } from 'react-cookie';\nimport { Box, Grow } from '@material-ui/core';\nimport { TiInfoOutline } from 'react-icons/ti';\nimport { FaLock } from 'react-icons/fa';\nimport imgLogo from '@assets/images/img_eng_logo.png';\n\nconst Login = ({ history }) => {\n  const { commonStore, userStore } = useStores();\n  const { $Dim, $user, $setUser, $storekey } = useObserver(() => ({\n    $Dim: commonStore.Dim,\n    $user: userStore.user,\n    $setUser: userStore.fSetUser,\n    $storekey: userStore.storekey,\n  }));\n\n  const Styles = fStyles($Dim);\n\n  const [cookies, setCookie, removeCookie] = useCookies(['saveid_hansun']);\n  const [userid, setUserId] = useState('');\n  const [password, setPassword] = useState('');\n  const [saveId, setSaveId] = useState(false);\n  const [error, setError] = useState(null);\n\n  const fChangeUserId = (e) => {\n    setUserId(e.target.value);\n  };\n\n  const fChangePassword = (e) => {\n    setPassword(e.target.value);\n  };\n\n  const fSubmit = async (e) => {\n    e.preventDefault();\n    setError('');\n    if (!userid) {\n      setError('아이디를 입력하세요.');\n      return;\n    } else if (!password) {\n      setError('비밀번호를 입력하세요.');\n      return;\n    }\n\n    const encpass = password;\n    try {\n      let result = await axios.get('/@/auth/encproc', {\n        params: { userid: userid, password: encpass },\n      });\n      const rtnpass = result.data;\n      let result2 = await axios.post('/@/auth/login', {\n        userid: userid,\n        password: rtnpass,\n      });\n      const data = result2.data;\n      if (data.errmess) {\n        setError(data.errmess);\n      } else {\n        $setUser(data);\n      }\n    } catch (error) {\n      setError('로그인 요청중 오류가 발생하였습니다.');\n    }\n  };\n\n  const fSaveIdClick = (e) => {\n    setSaveId(e.target.checked);\n  };\n\n  useEffect(() => {\n    if (cookies.saveid_hansun) {\n      setSaveId(true);\n      const id = cookies.saveid_hansun;\n      setUserId(id);\n      setPassword('');\n    }\n  }, [cookies]);\n\n  useEffect(() => {\n    if ($user && $user.userid) {\n      if (saveId) {\n        setCookie('saveid_hansun', $user.userid, { path: '/' });\n      } else {\n        removeCookie('saveid_hansun');\n      }\n      try {\n        const secureStorage = SecStorage($storekey);\n        secureStorage.setItem('user_hansun', JSON.stringify($user));\n      } catch (e) {\n        history.push('/error_500');\n      }\n      history.push('/');\n    }\n  }, [$user]);\n\n  return (\n    <>\n      <BrowserDetection>{browserHandler}</BrowserDetection>\n      <Box style={Styles.s1} display=\"flex\" flexDirection=\"column\" alignItems=\"center\">\n        <Box style={{ height: $Dim * 120 }} />\n        <Box display=\"flex\">\n          <Box>\n            <img src={imgLogo} alt=\"logo\" style={{ width: $Dim * 150, height: $Dim * 20 }} />\n          </Box>\n          <Box style={{ marginLeft: $Dim * 15 }}>\n            <FaLock style={{ width: $Dim * 20, height: $Dim * 20, color: '#c2c2c2' }} />\n          </Box>\n        </Box>\n        <Box style={{ width: $Dim * 1000, height: $Dim * 190, background: '#2d353c', marginTop: $Dim * 10 }}>\n          <form onSubmit={fSubmit}>\n            <Box style={{ marginTop: $Dim * 15 }} display=\"flex\" justifyContent=\"center\">\n              <input type=\"text\" id=\"userid\" name=\"userid\" placeholder=\"아이디\" value={userid} onChange={fChangeUserId} style={Styles.s2} />\n            </Box>\n            <Box style={{ marginTop: $Dim * 10 }} display=\"flex\" justifyContent=\"center\">\n              <input type=\"password\" id=\"password\" name=\"password\" placeholder=\"비밀번호\" value={password} onChange={fChangePassword} style={Styles.s2} />\n            </Box>\n            <Box style={{ marginTop: $Dim * 10 }} display=\"flex\" justifyContent=\"center\">\n              <Box style={{ width: $Dim * 170 }} display=\"flex\" justifyContent=\"flex-start\" alignItems=\"center\">\n                <input type=\"checkbox\" id=\"saveId\" checked={saveId} onChange={fSaveIdClick} style={{ width: $Dim * 15, height: $Dim * 15 }} />\n                <label htmlFor=\"saveId\" style={{ marginLeft: $Dim * 5, fontSize: $Dim * 12, color: '#c6ced5' }}>\n                  아이디 저장\n                </label>\n              </Box>\n            </Box>\n            <Box style={{ marginTop: $Dim * 10 }} display=\"flex\" justifyContent=\"center\">\n              <button\n                type=\"submit\"\n                style={{ width: $Dim * 180, height: $Dim * 25, background: '#00acac', borderRadius: '6px', borderWidth: '0px', fontSize: $Dim * 12, fontWeight: 'bold', color: '#fff' }}\n              >\n                로그인\n              </button>\n            </Box>\n            <Box style={{ marginTop: $Dim * 15, fontSize: $Dim * 12, color: '#ff2222' }} display=\"flex\" justifyContent=\"center\">\n              &nbsp;\n              {error}\n              &nbsp;\n            </Box>\n          </form>\n        </Box>\n      </Box>\n    </>\n  );\n};\n\nconst fStyles = ($Dim) => {\n  return {\n    s1: { width: $Dim * 1000, height: $Dim * 560, background: '#d9e0e7' },\n    s2: {\n      width: $Dim * 170,\n      height: $Dim * 25,\n      backgroundColor: '#4C5359',\n      borderRadius: '6px',\n      borderWidth: '0px',\n      fontSize: $Dim * 13,\n      fontWeight: 'bold',\n      color: '#fff',\n      paddingLeft: $Dim * 10,\n    },\n  };\n};\n\nconst browserHandler = {\n  default: (browser) => (\n    <>\n      {browser === 'ie' && (\n        <Grow in={browser === 'ie'} style={{ transformOrigin: '0 0 0' }} {...{ timeout: 1000 }}>\n          <Box border={1} borderRadius={5} p={1} borderColor=\"#ddd\" bgcolor=\"#FFF1C0\">\n            <Box display=\"flex\" flexDirection=\"row\" justifyContent=\"center\">\n              <Box width={50} height=\"100\" display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n                <TiInfoOutline size=\"35\" />\n              </Box>\n              <Box>\n                <Box style={{ fontSize: '14px' }}>현재 사용 중인 브라우저는 지원이 중단 된 브라우저 입니다.</Box>\n                <Box style={{ fontSize: '14px', fontWeight: 'bold' }}>\n                  보안에 위험이 없는\n                  <a rel=\"noopener noreferrer\" href=\"https://www.google.com/chrome/index.html?brand=CHNY&utm_campaign=en&utm_source=en-et-youtube&utm_medium=et\" target=\"_blank\">\n                    {' '}\n                    Chrome\n                  </a>\n                  <a rel=\"noopener noreferrer\" href=\"https://www.microsoft.com/ko-kr/edge/\" target=\"_blank\">\n                    {' '}\n                    Edge\n                  </a>\n                  를 사용하여 주세요\n                </Box>\n              </Box>\n            </Box>\n          </Box>\n        </Grow>\n      )}\n    </>\n  ),\n};\n\nexport default withRouter(Login);\n"]},"metadata":{},"sourceType":"module"}