{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\Users\\\\HSE-KMS\\\\Documents\\\\Temp\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\HSE-KMS\\\\Documents\\\\Temp\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"C:\\\\Users\\\\HSE-KMS\\\\Documents\\\\Temp\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\HSE-KMS\\\\Documents\\\\Temp\\\\frontend\\\\src\\\\components\\\\layout\\\\Header.js\";\nimport React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport useStores from '@stores/useStores';\nimport { useObserver } from 'mobx-react-lite';\nimport axios from 'axios';\nimport SecStorage from '@lib/secureStorage';\nimport { RiLogoutBoxRFill } from 'react-icons/ri';\nimport imgLogoTop from '@assets/images/s-lok-logo.png';\nimport { Box, Button, Menu, MenuItem } from '@material-ui/core';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Sidebar from './Sidebar';\n\nvar Header = function Header() {\n  var _useStores = useStores(),\n      commonStore = _useStores.commonStore,\n      userStore = _useStores.userStore;\n\n  var _useObserver = useObserver(function () {\n    return {\n      $Dim: commonStore.Dim,\n      $Title: commonStore.Title,\n      $storekey: userStore.storekey,\n      $clearUser: userStore.fClearUser\n    };\n  }),\n      $Dim = _useObserver.$Dim,\n      $Title = _useObserver.$Title,\n      $storekey = _useObserver.$storekey,\n      $clearUser = _useObserver.$clearUser;\n\n  var Styles = fStyles($Dim);\n\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      menuEl = _useState2[0],\n      setMenuEl = _useState2[1];\n\n  var fClick = function fClick(event) {\n    setMenuEl(event.currentTarget);\n  };\n\n  var fClose = function fClose() {\n    setMenuEl(null);\n  };\n\n  var fLogout =\n  /*#__PURE__*/\n  function () {\n    var _ref = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      var secureStorage;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              secureStorage = SecStorage($storekey);\n              _context.next = 4;\n              return $clearUser();\n\n            case 4:\n              _context.next = 6;\n              return secureStorage.removeItem('user_hansun');\n\n            case 6:\n              _context.next = 8;\n              return axios.post('/@/auth/logout');\n\n            case 8:\n              _context.next = 12;\n              break;\n\n            case 10:\n              _context.prev = 10;\n              _context.t0 = _context[\"catch\"](0);\n\n            case 12:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 10]]);\n    }));\n\n    return function fLogout() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return React.createElement(React.Fragment, null, React.createElement(AppBar, {\n    position: \"fixed\",\n    style: {\n      zIndex: '1202'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, React.createElement(Toolbar, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, React.createElement(Box, {\n    style: Styles.s1,\n    display: \"flex\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, React.createElement(Box, {\n    style: {\n      width: $Dim * 160\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, React.createElement(Link, {\n    to: \"/\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    src: imgLogoTop,\n    alt: \"logo\",\n    style: {\n      width: $Dim * 60,\n      height: $Dim * 16,\n      padding: $Dim * 4,\n      marginLeft: $Dim * 5\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }))), React.createElement(Box, {\n    style: {\n      width: $Dim * 760,\n      height: $Dim * 24,\n      fontSize: $Dim * 17,\n      color: '#fff',\n      fontWeight: 'bold'\n    },\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, $Title), React.createElement(Box, {\n    style: {\n      width: $Dim * 120,\n      height: $Dim * 24,\n      marginRight: $Dim * 10\n    },\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }), React.createElement(Box, {\n    style: {\n      width: $Dim * 40\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, React.createElement(Button, {\n    \"aria-controls\": \"simple-menu\",\n    \"aria-haspopup\": \"true\",\n    onClick: fClick,\n    style: {\n      width: $Dim * 40,\n      height: $Dim * 24,\n      fontSize: $Dim * 10\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }, React.createElement(RiLogoutBoxRFill, {\n    style: {\n      width: $Dim * 18,\n      height: $Dim * 18,\n      color: '#fff'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  })), React.createElement(Menu, {\n    id: \"simple-menu\",\n    anchorEl: menuEl,\n    keepMounted: true,\n    open: Boolean(menuEl),\n    onClose: fClose,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }, React.createElement(MenuItem, {\n    onClick: fLogout,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }, \"\\uB85C\\uADF8\\uC544\\uC6C3\")))))), React.createElement(Sidebar, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }));\n};\n\nvar fStyles = function fStyles($Dim) {\n  return {\n    s1: {\n      width: $Dim * 1000,\n      height: $Dim * 24,\n      background: '#1f1f1f'\n    }\n  };\n};\n\nexport default Header;","map":{"version":3,"sources":["C:\\Users\\HSE-KMS\\Documents\\Temp\\frontend\\src\\components\\layout\\Header.js"],"names":["React","useState","Link","useStores","useObserver","axios","SecStorage","RiLogoutBoxRFill","imgLogoTop","Box","Button","Menu","MenuItem","AppBar","Toolbar","Sidebar","Header","commonStore","userStore","$Dim","Dim","$Title","Title","$storekey","storekey","$clearUser","fClearUser","Styles","fStyles","menuEl","setMenuEl","fClick","event","currentTarget","fClose","fLogout","secureStorage","removeItem","post","zIndex","s1","width","height","padding","marginLeft","fontSize","color","fontWeight","marginRight","Boolean","background"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport useStores from '@stores/useStores';\nimport { useObserver } from 'mobx-react-lite';\nimport axios from 'axios';\nimport SecStorage from '@lib/secureStorage';\nimport { RiLogoutBoxRFill } from 'react-icons/ri';\nimport imgLogoTop from '@assets/images/s-lok-logo.png';\nimport { Box, Button, Menu, MenuItem } from '@material-ui/core';\n\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Sidebar from './Sidebar';\n\nconst Header = () => {\n  const { commonStore, userStore } = useStores();\n  const { $Dim, $Title, $storekey, $clearUser } = useObserver(() => ({\n    $Dim: commonStore.Dim,\n    $Title: commonStore.Title,\n    $storekey: userStore.storekey,\n    $clearUser: userStore.fClearUser,\n  }));\n\n  const Styles = fStyles($Dim);\n\n  const [menuEl, setMenuEl] = useState(null);\n\n  const fClick = (event) => {\n    setMenuEl(event.currentTarget);\n  };\n\n  const fClose = () => {\n    setMenuEl(null);\n  };\n\n  const fLogout = async () => {\n    try {\n      const secureStorage = SecStorage($storekey);\n      await $clearUser();\n      await secureStorage.removeItem('user_hansun');\n      await axios.post('/@/auth/logout');\n    } catch (e) {\n      // console.log(e);\n    }\n  };\n\n  return (\n    <>\n          <AppBar position=\"fixed\" style={{zIndex:'1202'}}> \n        <Toolbar>\n      <Box style={Styles.s1} display=\"flex\">\n        <Box style={{ width: $Dim * 160 }}>\n          <Link to=\"/\">\n            <img src={imgLogoTop} alt=\"logo\" style={{ width: $Dim * 60, height: $Dim * 16, padding: $Dim * 4, marginLeft: $Dim * 5 }} />\n          </Link>\n        </Box>\n\n        <Box style={{ width: $Dim * 760, height: $Dim * 24, fontSize: $Dim * 17, color: '#fff', fontWeight: 'bold' }} display=\"flex\" justifyContent=\"center\" alignItems=\"center\">\n          {$Title}\n        </Box>\n        <Box style={{ width: $Dim * 120, height: $Dim * 24, marginRight: $Dim * 10 }} display=\"flex\" justifyContent=\"center\" alignItems=\"center\" />\n\n        <Box style={{ width: $Dim * 40 }}>\n          <Button aria-controls=\"simple-menu\" aria-haspopup=\"true\" onClick={fClick} style={{ width: $Dim * 40, height: $Dim * 24, fontSize: $Dim * 10 }}>\n            <RiLogoutBoxRFill style={{ width: $Dim * 18, height: $Dim * 18, color: '#fff' }} />\n          </Button>\n          <Menu id=\"simple-menu\" anchorEl={menuEl} keepMounted open={Boolean(menuEl)} onClose={fClose}>\n            <MenuItem onClick={fLogout}>로그아웃</MenuItem>\n          </Menu>\n        </Box>\n      </Box>\n      </Toolbar>\n      </AppBar>\n      <Sidebar/>\n    </>\n  );\n};\n\nconst fStyles = ($Dim) => {\n  return {\n    s1: { width: $Dim * 1000, height: $Dim * 24, background: '#1f1f1f' },\n  };\n};\n\nexport default Header;\n"]},"metadata":{},"sourceType":"module"}